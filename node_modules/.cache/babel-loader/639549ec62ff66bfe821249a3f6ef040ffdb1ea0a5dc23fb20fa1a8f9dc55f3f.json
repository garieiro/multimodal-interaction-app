{"ast":null,"code":"var _jsxFileName = \"/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/components/charts/BoxPlot.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BoxPlot = ({\n  data\n}) => {\n  _s();\n  const svgRef = useRef();\n  console.log('BoxPlot', data);\n  useEffect(() => {\n    d3.select(svgRef.current).selectAll('*').remove();\n    if (!data || data.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 14\n      }, this);\n    }\n    const margin = {\n      top: 10,\n      right: 30,\n      bottom: 50,\n      left: 40\n    };\n    const width = 450 - margin.left - margin.right;\n    const height = 450 - margin.top - margin.bottom;\n    const boxWidth = 70;\n    const minBoxSpacing = 30;\n    const totalWidth = (boxWidth + minBoxSpacing) * data.length;\n    const minValues = data.map(dataset => d3.min(dataset.values));\n    const maxValues = data.map(dataset => d3.max(dataset.values));\n    const minAll = d3.min(minValues) - 2;\n    const maxAll = d3.max(maxValues) + 2;\n    console.log('Min:', minAll);\n    console.log('Max:', maxAll);\n    console.log('Min Value:', minValues);\n    console.log('Max Value:', maxValues);\n    const y = d3.scaleLinear().domain([minAll, maxAll]).range([height, 0]);\n    const svg = d3.select(svgRef.current).attr('width', totalWidth + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n    const datasetWidth = totalWidth / data.length;\n    data.forEach((dataset, index) => {\n      const data_sorted = dataset.values.sort(d3.ascending);\n      const q1 = d3.quantile(data_sorted, 0.25);\n      const median = d3.quantile(data_sorted, 0.5);\n      const q3 = d3.quantile(data_sorted, 0.75);\n      const interQuantileRange = q3 - q1;\n      const min = Math.min(maxAll, q3 + interQuantileRange * 1.5);\n      const max = Math.max(minAll, q1 - interQuantileRange * 1.5);\n      const x = index * datasetWidth + datasetWidth / 2;\n      console.log('Mini:', min);\n      console.log('Maxi:', max);\n      svg.append('line').attr('x1', x).attr('x2', x).attr('y1', y(min)).attr('y2', y(max)).attr('stroke', 'black');\n      svg.append('rect').attr('x', x - boxWidth / 2).attr('y', y(q3)).attr('height', y(q1) - y(q3)).attr('width', boxWidth).attr('stroke', 'black').style('fill', '#69b3a2');\n      svg.selectAll('line.toto').data([min, median, max]).enter().append('line').attr('x1', x - boxWidth / 2).attr('x2', x + boxWidth / 2).attr('y1', d => y(d)).attr('y2', d => y(d)).attr('stroke', 'black');\n      svg.append('text').attr('x', x).attr('y', height + margin.bottom / 2).attr('text-anchor', 'middle').text(dataset.label).style('font-size', '12px').attr('fill', 'black');\n    });\n    svg.append('g').attr('class', 'y-axis').call(d3.axisLeft(y));\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 10\n  }, this);\n};\n_s(BoxPlot, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = BoxPlot;\nexport default BoxPlot;\nvar _c;\n$RefreshReg$(_c, \"BoxPlot\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","BoxPlot","data","_s","svgRef","console","log","select","current","selectAll","remove","length","children","fileName","_jsxFileName","lineNumber","columnNumber","margin","top","right","bottom","left","width","height","boxWidth","minBoxSpacing","totalWidth","minValues","map","dataset","min","values","maxValues","max","minAll","maxAll","y","scaleLinear","domain","range","svg","attr","append","datasetWidth","forEach","index","data_sorted","sort","ascending","q1","quantile","median","q3","interQuantileRange","Math","x","style","enter","d","text","label","call","axisLeft","ref","_c","$RefreshReg$"],"sources":["/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/components/charts/BoxPlot.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport * as d3 from 'd3'\n\nconst BoxPlot = ({ data }) => {\n  const svgRef = useRef()\n  console.log('BoxPlot', data)\n  useEffect(() => {\n    d3.select(svgRef.current).selectAll('*').remove()\n\n    if (!data || data.length === 0) {\n      return <div>No data available</div>\n    }\n\n    const margin = { top: 10, right: 30, bottom: 50, left: 40 }\n    const width = 450 - margin.left - margin.right\n    const height = 450 - margin.top - margin.bottom\n\n    const boxWidth = 70\n    const minBoxSpacing = 30\n    const totalWidth = (boxWidth + minBoxSpacing) * data.length\n\n    const minValues = data.map((dataset) => d3.min(dataset.values))\n    const maxValues = data.map((dataset) => d3.max(dataset.values))\n    const minAll = d3.min(minValues) - 2\n    const maxAll = d3.max(maxValues) + 2\n\n    console.log('Min:', minAll)\n    console.log('Max:', maxAll)\n    console.log('Min Value:', minValues)\n    console.log('Max Value:', maxValues)\n\n    const y = d3.scaleLinear().domain([minAll, maxAll]).range([height, 0])\n\n    const svg = d3\n      .select(svgRef.current)\n      .attr('width', totalWidth + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`)\n\n    const datasetWidth = totalWidth / data.length\n\n    data.forEach((dataset, index) => {\n      const data_sorted = dataset.values.sort(d3.ascending)\n      const q1 = d3.quantile(data_sorted, 0.25)\n      const median = d3.quantile(data_sorted, 0.5)\n      const q3 = d3.quantile(data_sorted, 0.75)\n      const interQuantileRange = q3 - q1\n      const min = Math.min(maxAll, q3 + interQuantileRange * 1.5)\n      const max = Math.max(minAll, q1 - interQuantileRange * 1.5)\n      const x = index * datasetWidth + datasetWidth / 2\n      console.log('Mini:', min)\n      console.log('Maxi:', max)\n      svg\n        .append('line')\n        .attr('x1', x)\n        .attr('x2', x)\n        .attr('y1', y(min))\n        .attr('y2', y(max))\n        .attr('stroke', 'black')\n\n      svg\n        .append('rect')\n        .attr('x', x - boxWidth / 2)\n        .attr('y', y(q3))\n        .attr('height', y(q1) - y(q3))\n        .attr('width', boxWidth)\n        .attr('stroke', 'black')\n        .style('fill', '#69b3a2')\n\n      svg\n        .selectAll('line.toto')\n        .data([min, median, max])\n        .enter()\n        .append('line')\n        .attr('x1', x - boxWidth / 2)\n        .attr('x2', x + boxWidth / 2)\n        .attr('y1', (d) => y(d))\n        .attr('y2', (d) => y(d))\n        .attr('stroke', 'black')\n\n      svg\n        .append('text')\n        .attr('x', x)\n        .attr('y', height + margin.bottom / 2)\n        .attr('text-anchor', 'middle')\n        .text(dataset.label)\n        .style('font-size', '12px')\n        .attr('fill', 'black')\n    })\n\n    svg.append('g').attr('class', 'y-axis').call(d3.axisLeft(y))\n  }, [data])\n\n  return <svg ref={svgRef} />\n}\n\nexport default BoxPlot\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}