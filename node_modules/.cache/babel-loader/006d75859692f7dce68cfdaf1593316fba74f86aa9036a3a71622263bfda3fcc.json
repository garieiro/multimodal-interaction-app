{"ast":null,"code":"var _jsxFileName = \"/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/components/charts/WordCloud.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport d3Cloud from 'd3-cloud';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WordCloud = ({\n  data\n}) => {\n  _s();\n  const svgRef = useRef();\n  const tooltipRef = useRef(); // Referência para a tooltip\n\n  useEffect(() => {\n    d3.select(svgRef.current).selectAll('*').remove();\n    const words = data.map(word => ({\n      text: word.text,\n      size: word.value\n    }));\n    const containerWidth = 450;\n    const containerHeight = 450;\n    const fontFamily = 'sans-serif';\n    const fontScale = 15;\n    const fill = '#000';\n    const cloud = d3Cloud().size([containerWidth, containerHeight]).words(words).padding(5).rotate(() => 0).font(fontFamily).fontSize(d => Math.sqrt(d.size) * fontScale).random(() => 0.5).on('end', draw);\n    cloud.start();\n    function draw(words) {\n      const svg = d3.select(svgRef.current);\n      svg.attr('viewBox', [0, 0, containerWidth, containerHeight]).attr('width', containerWidth).attr('height', containerHeight).attr('font-family', fontFamily).attr('text-anchor', 'middle').attr('style', 'max-width: 100%; height: auto; height: intrinsic;').selectAll('text').data(words).enter().append('text').attr('font-size', d => d.size).attr('fill', fill).attr('transform', d => `translate(${d.x + containerWidth / 2},${d.y + containerHeight / 2})`).text(d => d.text).on('mouseover', function (event, d) {\n        // Exibir tooltip\n        const tooltip = d3.select(tooltipRef.current);\n        tooltip.html(`${d.text}: ${d.size} occurrences`) // Exibir palavra e sua frequência\n        .style('opacity', 1).style('left', `${event.pageX + 10}px`).style('top', `${event.pageY - 30}px`);\n      }).on('mousemove', function (event) {\n        // Atualizar posição da tooltip\n        d3.select(tooltipRef.current).style('left', `${event.pageX + 10}px`).style('top', `${event.pageY - 30}px`);\n      }).on('mouseout', function () {\n        // Ocultar tooltip\n        d3.select(tooltipRef.current).style('opacity', 0);\n      });\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tooltipRef,\n      style: {\n        opacity: 0,\n        position: 'absolute',\n        pointerEvents: 'none',\n        background: 'rgba(0,0,0,0.9)',\n        border: '1px solid black',\n        padding: '5px',\n        borderRadius: '4px',\n        fontSize: '12px',\n        zIndex: '10'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(WordCloud, \"jyg6kBjq0Vkx+9H7Hda18hFrSo0=\");\n_c = WordCloud;\nexport default WordCloud;\nvar _c;\n$RefreshReg$(_c, \"WordCloud\");","map":{"version":3,"names":["React","useEffect","useRef","d3","d3Cloud","jsxDEV","_jsxDEV","Fragment","_Fragment","WordCloud","data","_s","svgRef","tooltipRef","select","current","selectAll","remove","words","map","word","text","size","value","containerWidth","containerHeight","fontFamily","fontScale","fill","cloud","padding","rotate","font","fontSize","d","Math","sqrt","random","on","draw","start","svg","attr","enter","append","x","y","event","tooltip","html","style","pageX","pageY","children","ref","width","height","fileName","_jsxFileName","lineNumber","columnNumber","opacity","position","pointerEvents","background","border","borderRadius","zIndex","_c","$RefreshReg$"],"sources":["/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/components/charts/WordCloud.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport * as d3 from 'd3'\nimport d3Cloud from 'd3-cloud'\n\nconst WordCloud = ({ data }) => {\n  const svgRef = useRef()\n  const tooltipRef = useRef() // Referência para a tooltip\n\n  useEffect(() => {\n    d3.select(svgRef.current).selectAll('*').remove()\n    const words = data.map((word) => ({ text: word.text, size: word.value }))\n\n    const containerWidth = 450\n    const containerHeight = 450\n\n    const fontFamily = 'sans-serif'\n    const fontScale = 15\n    const fill = '#000'\n\n    const cloud = d3Cloud()\n      .size([containerWidth, containerHeight])\n      .words(words)\n      .padding(5)\n      .rotate(() => 0)\n      .font(fontFamily)\n      .fontSize((d) => Math.sqrt(d.size) * fontScale)\n      .random(() => 0.5)\n      .on('end', draw)\n\n    cloud.start()\n\n    function draw(words) {\n      const svg = d3.select(svgRef.current)\n\n      svg\n        .attr('viewBox', [0, 0, containerWidth, containerHeight])\n        .attr('width', containerWidth)\n        .attr('height', containerHeight)\n        .attr('font-family', fontFamily)\n        .attr('text-anchor', 'middle')\n        .attr('style', 'max-width: 100%; height: auto; height: intrinsic;')\n        .selectAll('text')\n        .data(words)\n        .enter()\n        .append('text')\n        .attr('font-size', (d) => d.size)\n        .attr('fill', fill)\n        .attr(\n          'transform',\n          (d) =>\n            `translate(${d.x + containerWidth / 2},${d.y + containerHeight / 2})`\n        )\n        .text((d) => d.text)\n        .on('mouseover', function (event, d) {\n          // Exibir tooltip\n          const tooltip = d3.select(tooltipRef.current)\n          tooltip\n            .html(`${d.text}: ${d.size} occurrences`) // Exibir palavra e sua frequência\n            .style('opacity', 1)\n            .style('left', `${event.pageX + 10}px`)\n            .style('top', `${event.pageY - 30}px`)\n        })\n        .on('mousemove', function (event) {\n          // Atualizar posição da tooltip\n          d3.select(tooltipRef.current)\n            .style('left', `${event.pageX + 10}px`)\n            .style('top', `${event.pageY - 30}px`)\n        })\n        .on('mouseout', function () {\n          // Ocultar tooltip\n          d3.select(tooltipRef.current).style('opacity', 0)\n        })\n    }\n  }, [data])\n\n  return (\n    <>\n      <svg ref={svgRef} style={{ width: '100%', height: '100%' }} />\n      <div\n        ref={tooltipRef}\n        style={{\n          opacity: 0,\n          position: 'absolute',\n          pointerEvents: 'none',\n          background: 'rgba(0,0,0,0.9)',\n          border: '1px solid black',\n          padding: '5px',\n          borderRadius: '4px',\n          fontSize: '12px',\n          zIndex: '10',\n        }}\n      />\n    </>\n  )\n}\n\nexport default WordCloud\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}