{"ast":null,"code":"var _jsxFileName = \"/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/components/charts/WordCloud.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WordCloud = ({\n  data\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const containerRef = useRef(null);\n  useEffect(() => {\n    const renderCloud = (containerWidth, containerHeight) => {\n      d3.select(svgRef.current).selectAll('*').remove();\n      const words = data.map(word => ({\n        text: word.text,\n        size: word.value\n      })).filter(word => word.value > 10); // Filtra palavras com valor menor que 10\n\n      const fontFamily = 'sans-serif';\n\n      // Ajustando a escala com base no menor valor entre a largura e a altura do container\n      const fontScale = Math.min(containerWidth, containerHeight) / 25;\n      const maxFontSize = 40; // Tamanho m치ximo da fonte\n\n      const cloud = d3Cloud().size([containerWidth, containerHeight]).words(words).padding(5).rotate(() => 0).font(fontFamily).fontSize(d => Math.min(Math.sqrt(d.size) * fontScale, maxFontSize)) // Limita o tamanho m치ximo da fonte\n      .on('end', draw);\n      cloud.start();\n      function draw(words) {\n        const svg = d3.select(svgRef.current);\n        svg.attr('viewBox', [0, 0, containerWidth, containerHeight]).attr('width', containerWidth).attr('height', containerHeight).attr('font-family', fontFamily).attr('text-anchor', 'middle').attr('style', 'max-width: 100%; height: auto;').selectAll('text').data(words).enter().append('text').attr('font-size', d => d.size).attr('fill', '#000').attr('transform', d => `translate(${d.x + containerWidth / 2},${d.y + containerHeight / 2})`).text(d => d.text);\n      }\n    };\n    const resizeObserver = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        const {\n          width,\n          height\n        } = entry.contentRect;\n        renderCloud(width, height);\n      }\n    });\n    if (containerRef.current) {\n      resizeObserver.observe(containerRef.current);\n    }\n    return () => {\n      if (containerRef.current) {\n        resizeObserver.unobserve(containerRef.current);\n      }\n    };\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(WordCloud, \"3KSnylFmZ5aNNvVrAf34KpLSSw8=\");\n_c = WordCloud;\nvar _c;\n$RefreshReg$(_c, \"WordCloud\");","map":{"version":3,"names":["WordCloud","data","_s","svgRef","useRef","containerRef","useEffect","renderCloud","containerWidth","containerHeight","d3","select","current","selectAll","remove","words","map","word","text","size","value","filter","fontFamily","fontScale","Math","min","maxFontSize","cloud","d3Cloud","padding","rotate","font","fontSize","d","sqrt","on","draw","start","svg","attr","enter","append","x","y","resizeObserver","ResizeObserver","entries","entry","width","height","contentRect","observe","unobserve","_jsxDEV","ref","style","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/components/charts/WordCloud.js"],"sourcesContent":["const WordCloud = ({ data }) => {\n  const svgRef = useRef(null)\n  const containerRef = useRef(null)\n\n  useEffect(() => {\n    const renderCloud = (containerWidth, containerHeight) => {\n      d3.select(svgRef.current).selectAll('*').remove()\n\n      const words = data\n        .map((word) => ({ text: word.text, size: word.value }))\n        .filter((word) => word.value > 10) // Filtra palavras com valor menor que 10\n\n      const fontFamily = 'sans-serif'\n\n      // Ajustando a escala com base no menor valor entre a largura e a altura do container\n      const fontScale = Math.min(containerWidth, containerHeight) / 25\n      const maxFontSize = 40 // Tamanho m치ximo da fonte\n\n      const cloud = d3Cloud()\n        .size([containerWidth, containerHeight])\n        .words(words)\n        .padding(5)\n        .rotate(() => 0)\n        .font(fontFamily)\n        .fontSize((d) => Math.min(Math.sqrt(d.size) * fontScale, maxFontSize)) // Limita o tamanho m치ximo da fonte\n        .on('end', draw)\n\n      cloud.start()\n\n      function draw(words) {\n        const svg = d3.select(svgRef.current)\n\n        svg\n          .attr('viewBox', [0, 0, containerWidth, containerHeight])\n          .attr('width', containerWidth)\n          .attr('height', containerHeight)\n          .attr('font-family', fontFamily)\n          .attr('text-anchor', 'middle')\n          .attr('style', 'max-width: 100%; height: auto;')\n          .selectAll('text')\n          .data(words)\n          .enter()\n          .append('text')\n          .attr('font-size', (d) => d.size)\n          .attr('fill', '#000')\n          .attr(\n            'transform',\n            (d) =>\n              `translate(${d.x + containerWidth / 2},${d.y + containerHeight / 2})`\n          )\n          .text((d) => d.text)\n      }\n    }\n\n    const resizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        const { width, height } = entry.contentRect\n        renderCloud(width, height)\n      }\n    })\n\n    if (containerRef.current) {\n      resizeObserver.observe(containerRef.current)\n    }\n\n    return () => {\n      if (containerRef.current) {\n        resizeObserver.unobserve(containerRef.current)\n      }\n    }\n  }, [data])\n\n  return (\n    <div ref={containerRef} style={{ width: '100%', height: '100%' }}>\n      <svg ref={svgRef} style={{ width: '100%', height: '100%' }} />\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}