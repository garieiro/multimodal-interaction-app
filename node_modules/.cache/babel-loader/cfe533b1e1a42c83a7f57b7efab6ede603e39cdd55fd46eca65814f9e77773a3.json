{"ast":null,"code":"const transformDataToSankeyChart = data => {\n  console.log('Received data:', data);\n  if (!data || typeof data !== 'object') {\n    throw new Error('Invalid data: Data must be an object.');\n  }\n  const nodesSet = new Set();\n  const links = [];\n  Object.keys(data).forEach(key => {\n    data[key].forEach(entry => {\n      const {\n        Source,\n        Target,\n        Start,\n        End\n      } = entry;\n      nodesSet.add(Source);\n      nodesSet.add(Target);\n      const duration = (new Date(End) - new Date(Start)) / 1000;\n      links.push({\n        source: Source,\n        target: Target,\n        value: duration\n      });\n    });\n  });\n  const nodes = Array.from(nodesSet).map(name => ({\n    name,\n    category: 'default'\n  }));\n  console.log({\n    nodes,\n    links\n  });\n  return {\n    nodes,\n    links\n  };\n};\nexport default transformDataToSankeyChart;","map":{"version":3,"names":["transformDataToSankeyChart","data","console","log","Error","nodesSet","Set","links","Object","keys","forEach","key","entry","Source","Target","Start","End","add","duration","Date","push","source","target","value","nodes","Array","from","map","name","category"],"sources":["/Users/goncaloarieiro/thesis/multimodal-interaction-app/src/TransformDate/transformDataToSankeyChart.js"],"sourcesContent":["const transformDataToSankeyChart = (data) => {\n  console.log('Received data:', data)\n\n  if (!data || typeof data !== 'object') {\n    throw new Error('Invalid data: Data must be an object.')\n  }\n\n  const nodesSet = new Set()\n  const links = []\n\n  Object.keys(data).forEach((key) => {\n    data[key].forEach((entry) => {\n      const { Source, Target, Start, End } = entry\n\n      nodesSet.add(Source)\n      nodesSet.add(Target)\n\n      const duration = (new Date(End) - new Date(Start)) / 1000\n\n      links.push({\n        source: Source,\n        target: Target,\n        value: duration,\n      })\n    })\n  })\n\n  const nodes = Array.from(nodesSet).map((name) => ({\n    name,\n    category: 'default',\n  }))\n  console.log({ nodes, links })\n  return { nodes, links }\n}\n\nexport default transformDataToSankeyChart\n"],"mappings":"AAAA,MAAMA,0BAA0B,GAAIC,IAAI,IAAK;EAC3CC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,IAAI,CAAC;EAEnC,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IACrC,MAAM,IAAIG,KAAK,CAAC,uCAAuC,CAAC;EAC1D;EAEA,MAAMC,QAAQ,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC1B,MAAMC,KAAK,GAAG,EAAE;EAEhBC,MAAM,CAACC,IAAI,CAACR,IAAI,CAAC,CAACS,OAAO,CAAEC,GAAG,IAAK;IACjCV,IAAI,CAACU,GAAG,CAAC,CAACD,OAAO,CAAEE,KAAK,IAAK;MAC3B,MAAM;QAAEC,MAAM;QAAEC,MAAM;QAAEC,KAAK;QAAEC;MAAI,CAAC,GAAGJ,KAAK;MAE5CP,QAAQ,CAACY,GAAG,CAACJ,MAAM,CAAC;MACpBR,QAAQ,CAACY,GAAG,CAACH,MAAM,CAAC;MAEpB,MAAMI,QAAQ,GAAG,CAAC,IAAIC,IAAI,CAACH,GAAG,CAAC,GAAG,IAAIG,IAAI,CAACJ,KAAK,CAAC,IAAI,IAAI;MAEzDR,KAAK,CAACa,IAAI,CAAC;QACTC,MAAM,EAAER,MAAM;QACdS,MAAM,EAAER,MAAM;QACdS,KAAK,EAAEL;MACT,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,MAAMM,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACrB,QAAQ,CAAC,CAACsB,GAAG,CAAEC,IAAI,KAAM;IAChDA,IAAI;IACJC,QAAQ,EAAE;EACZ,CAAC,CAAC,CAAC;EACH3B,OAAO,CAACC,GAAG,CAAC;IAAEqB,KAAK;IAAEjB;EAAM,CAAC,CAAC;EAC7B,OAAO;IAAEiB,KAAK;IAAEjB;EAAM,CAAC;AACzB,CAAC;AAED,eAAeP,0BAA0B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}