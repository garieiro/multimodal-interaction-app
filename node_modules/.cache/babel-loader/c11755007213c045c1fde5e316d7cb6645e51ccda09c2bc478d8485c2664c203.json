{"ast":null,"code":"var _jsxFileName = \"/Users/goncaloarieiro/thesis/multimodal-interaction/src/components/charts/PieChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DonutChart = () => {\n  _s();\n  useEffect(() => {\n    showDonutChart();\n  }, []);\n  console.log(d3.version); // Verifica se o D3 está acessível\n\n  const showDonutChart = () => {\n    var definitionVisualization = {};\n    (function (visualization) {\n      visualization.donut = {};\n      var topLevelItem = {\n        label: 'Channel'\n      };\n      var subSubData = [{\n        colorIndex: 10,\n        value: 3075,\n        label: 'Label 1'\n      }, {\n        colorIndex: 11,\n        value: 6150,\n        label: 'Label 2'\n      }, {\n        colorIndex: 12,\n        value: 6832,\n        label: 'Label 3'\n      }, {\n        colorIndex: 13,\n        value: 7516,\n        label: 'Label 4'\n      }, {\n        colorIndex: 14,\n        value: 6291,\n        label: 'Label 5'\n      }];\n      var subData = [{\n        colorIndex: 5,\n        value: 1000,\n        label: 'Region 1'\n      }, {\n        colorIndex: 6,\n        value: 1000,\n        label: 'Region 2'\n      }, {\n        colorIndex: 7,\n        value: 1000,\n        label: 'Region 3'\n      }, {\n        colorIndex: 8,\n        value: 1000,\n        label: 'Region 4'\n      }, {\n        colorIndex: 9,\n        value: 5000,\n        childData: subSubData,\n        label: 'Region 5'\n      }];\n      var data = [{\n        colorIndex: 0,\n        value: 25,\n        childData: subData,\n        label: 'Call Center'\n      }, {\n        colorIndex: 1,\n        value: 25,\n        childData: subData,\n        label: 'Third Party'\n      }, {\n        colorIndex: 2,\n        value: 16.66667,\n        childData: subData,\n        label: 'Web'\n      }, {\n        colorIndex: 3,\n        value: 16.66667,\n        childData: subData,\n        label: 'Mobile'\n      }, {\n        colorIndex: 4,\n        value: 16.66667,\n        childData: subData,\n        label: 'In-Store'\n      }];\n      var dataOriginal = data.slice(0); //Keep a record around for book-keeping purposes\n\n      var selectedPath = [];\n      function endall(transition, callback) {\n        var n = 0;\n        transition.each(function () {\n          ++n;\n        }).each('end', function () {\n          if (! --n) callback.apply(this, arguments);\n        });\n      }\n\n      // Global Variables\n\n      var margin = {\n        top: 50,\n        right: 0,\n        bottom: 10,\n        left: 127.5\n      };\n      var width = 555;\n      var height = 800;\n      var radius = 150;\n      var transformAttrValue = function (adjustLeft) {\n        var leftValue = margin.left + radius;\n        if (adjustLeft) {\n          leftValue = leftValue + adjustLeft;\n        }\n        return 'translate(' + leftValue + ',' + (margin.top + radius) + ')';\n      };\n      var colorRange = ['#ffb822', '#00bf8c', '#219ddb', '#ad85cc', '#f95275', '#80B647', '#11AEB4', '#6791D4', '#D36CA1', '#FC803B'];\n      var colors = d3.scale.ordinal().range(colorRange);\n      var chart, chartLabelsGroup, chartCenterLabelGroup, chartCenterLabel, arc, arcSmall, pie, path, chartSelect, chartSelectTertiary, arcOver;\n      function zoomIn(d) {\n        if (!d.data.childData) {\n          //At deepest available level\n          return false;\n        }\n        var sel = d3.select(this);\n\n        //Search the current path to see the counter where it was selected. (Also update selected path)\n\n        for (var i = 0; i < path[0].length; i++) {\n          if (path[0][i] == sel[0][0]) {\n            selectedPath.push(i);\n            break;\n          }\n        }\n        sel.attr('d', arc);\n        var startAngle = d.startAngle;\n        var endAngle = d.endAngle;\n        var arcSelect = d3.svg.arc().startAngle(function (s) {\n          return startAngle;\n        }).endAngle(function (s) {\n          return endAngle;\n        }).innerRadius(function (i) {\n          return radius - 20;\n        }).outerRadius(function (o) {\n          return radius * 1.1;\n        });\n        var newArc = chartSelect.append('path').style('fill', colors(d.data.colorIndex)).attr('d', arcSelect).on('click', zoomOut(d));\n        newArc.transition().duration(1000).attrTween('d', function () {\n          var newAngle = d.startAngle + 2 * Math.PI;\n          var interpolate = d3.interpolate(d.endAngle, newAngle);\n          return function (tick) {\n            endAngle = interpolate(tick);\n            return arcSelect(d);\n          };\n        }).each('end', zoomInSweepEnded(d.data.childData));\n      }\n      function zoomOut(clickedItem, selectedItem) {\n        return function () {\n          //Determine the current parent item while zooming.\n\n          var currentItem = getCurrentItemData(1);\n          selectedPath.pop(); //Update the path\n\n          //If we have another parent we need to show the zoom further out arc.\n\n          if (selectedPath.length > 0) {\n            chartSelectTertiary.attr('style', '');\n            chartSelectTertiary.on('click', function () {\n              //TODO: Fix this!!!\n              zoomOut({\n                startAngle: 0,\n                endAngle: 0\n              }, chartSelectTertiary.select('path'))();\n            });\n          }\n\n          //Proceed with animations\n\n          selectedItem = selectedItem || d3.select(this);\n          selectedItem.on('click', null);\n          zoomZeArc(selectedItem, true, function () {\n            var startAngle = clickedItem.startAngle;\n            var endAngle = clickedItem.startAngle + 2 * Math.PI;\n            var arcSelect = d3.svg.arc().startAngle(function (s) {\n              return startAngle;\n            }).endAngle(function (s) {\n              return endAngle;\n            }).innerRadius(function (i) {\n              return radius - 20;\n            }).outerRadius(function (o) {\n              return radius * 1.1;\n            });\n            var arcFinal = d3.svg.arc().startAngle(function (s) {\n              return startAngle;\n            }).endAngle(function (s) {\n              return endAngle;\n            }).outerRadius(radius).innerRadius(radius - 20);\n            selectedItem.transition().duration(750).attrTween('d', function () {\n              var newAngle = clickedItem.startAngle + 2 * Math.PI;\n              var interpolate = d3.interpolate(newAngle, clickedItem.endAngle);\n              return function (tick) {\n                endAngle = interpolate(tick);\n                return arcSelect(clickedItem);\n              };\n            }).each('end', function () {\n              selectedItem.transition().ease('bounce').duration(500).attr('d', arcFinal).each('end', function () {\n                //Finished animating and bouncing\n                d3.select('.secondary').html('');\n              });\n            });\n          });\n          path.transition().ease('back-in-out').duration(750).attr('transform', 'scale(.5), rotate(-90)').style('opacity', 0).call(endall, function () {\n            path.attr('transform', 'scale(1), rotate(0)').style('opacity', 1).data(pie(currentItem)).style('fill', function (d) {\n              return colors(d.data.colorIndex);\n            }).attr('d', arc).on('click', zoomIn).each(function (d, counter) {\n              //this._current = d;)\n            }); // store the initial angles\n\n            updatePieLabels();\n          });\n        };\n      }\n      function zoomInSweepEnded(childData) {\n        return function () {\n          chartSelectTertiary.attr('style', 'display: none');\n          var selectedItem = d3.select(this);\n          path.attr('transform', 'scale(0.5), rotate(-90)').style('opacity', 0);\n          path.data(pie(childData)).style('fill', function (d) {\n            return colors(d.data.colorIndex);\n          }).attr('d', arc);\n          updatePieLabels();\n          path.transition().ease('back-in-out').duration(750).attr('transform', 'scale(1), rotate(0)').style('opacity', 1).call(function () {\n            //Finished scaling\n          });\n          d3.selectAll('.zoom-out').transition().ease('back-in-out').duration(750).attr('transform', 'scale(1.25)').style('opacity', 0).remove().call(function () {\n            //Finished zooming out\n          });\n          setTimeout(function () {\n            var secondaryHtml = d3.select('.secondary').html();\n            d3.select('.tertiary').html(secondaryHtml);\n          }, 850);\n          zoomZeArc(selectedItem, false);\n        };\n      }\n      function zoomZeArc(selectedItem, reverse, callback) {\n        var zoomScale = 1.25;\n        var origOuterRadius = radius * 1.1;\n        var origInnerRadius = radius - 20;\n        var finalInnerRadius = radius * zoomScale;\n        var curInnerRadius = origInnerRadius;\n        var curOuterRadius = origOuterRadius;\n        var arcZoom = d3.svg.arc().startAngle(0).endAngle(2 * Math.PI).outerRadius(function () {\n          return curOuterRadius;\n        }).innerRadius(function () {\n          return curInnerRadius;\n        });\n        if (!reverse) {\n          selectedItem.attr('class', 'zoom-out');\n        }\n        selectedItem.transition().ease('back-in-out').duration(750).attrTween('d', function () {\n          var iInner = reverse ? d3.interpolate(finalInnerRadius, origInnerRadius) : d3.interpolate(origInnerRadius, finalInnerRadius);\n          return function (tick) {\n            curInnerRadius = iInner(tick);\n            curOuterRadius = origOuterRadius + (curInnerRadius - origInnerRadius) / 1.75;\n            return arcZoom(selectedItem);\n          };\n        }).each('end', function () {\n          if (callback) {\n            callback();\n          }\n        });\n      }\n      function updatePieLabels() {\n        chartCenterLabel.text(getCurrentItem().label);\n\n        //Updates pie chart labels. Needs to be after path data gets set!\n\n        chartLabelsGroup.html('');\n        var sliceLabels = chartLabelsGroup.selectAll('text').data(pie(path.data()));\n        var currentData = getCurrentItemData();\n        sliceLabels.enter().append('text').style('opacity', 0).transition().duration(750).style('opacity', 1).attr('class', 'outer-label').attr('transform', function (d) {\n          return 'translate(' + arcSmall.centroid(d) + ')';\n        }).text(function (d, i) {\n          return currentData[i].label;\n        });\n      }\n      function getCurrentItem() {\n        if (selectedPath.length === 0) {\n          return topLevelItem;\n        }\n        var currentItem = data;\n        for (var i = 0; i < selectedPath.length; i++) {\n          if (i + 1 < selectedPath.length) {\n            currentItem = currentItem[selectedPath[i]].childData;\n          } else {\n            currentItem = currentItem[selectedPath[i]];\n          }\n        }\n        return currentItem;\n      }\n      function getCurrentItemAsBreadCrumbs() {\n        if (selectedPath.length === 0) {\n          return [topLevelItem.label];\n        }\n        var currentItem = data;\n        var returnList = [topLevelItem.label];\n        for (var i = 0; i < selectedPath.length; i++) {\n          returnList.push(currentItem[selectedPath[i]].label);\n          if (i + 1 < selectedPath.length) {\n            currentItem = currentItem[selectedPath[i]].childData;\n          } else {\n            currentItem = currentItem[selectedPath[i]];\n          }\n        }\n        return returnList;\n      }\n      function getCurrentItemData(startIndex) {\n        startIndex = startIndex | 0;\n        var currentItem = data;\n        for (var i = startIndex; i < selectedPath.length; i++) {\n          currentItem = currentItem[selectedPath[i]].childData;\n        }\n        return currentItem;\n      }\n      function getRandomNumberInRange(min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n      }\n      visualization.donut.getBreadCrumbs = function () {\n        return getCurrentItemAsBreadCrumbs();\n      };\n      visualization.donut.randomize = function () {\n        //Set some random dataz and animate it\n\n        var currentDataLevel = getCurrentItemData();\n        for (var i = 0; i < currentDataLevel.length; i++) {\n          currentDataLevel[i].value = currentDataLevel[i].value * getRandomNumberInRange(75, 125) / 100.0;\n        }\n        path.data(pie(currentDataLevel));\n        path.transition().duration(750).attrTween('d', function (a) {\n          var i = d3.interpolate(this._current, a);\n          this._current = i(0);\n          return function (t) {\n            return arc(i(t));\n          };\n        });\n      };\n      visualization.donut.show = function () {\n        var svgContainer = d3.select('#graph-container');\n        svgContainer.html('');\n        data = dataOriginal.slice(0);\n        selectedPath = [];\n\n        // Primary Chart\n        chart = svgContainer.append('svg').attr('id', 'svg-container').attr('width', width).attr('height', height).append('g').attr('class', 'primary').attr('transform', transformAttrValue());\n        chartLabelsGroup = d3.select('#svg-container').append('g').attr('class', 'labelGroup').attr('transform', transformAttrValue(-20));\n        chartCenterLabelGroup = d3.select('#svg-container').append('g').attr('class', 'labelCenterGroup').attr('transform', transformAttrValue());\n        chartCenterLabel = chartCenterLabelGroup.append('text').attr('dy', '.35em').attr('class', 'chartLabel center').attr('text-anchor', 'middle');\n        arc = d3.svg.arc().outerRadius(radius).innerRadius(radius - 20);\n        arcSmall = d3.svg.arc().outerRadius(radius - 40).innerRadius(radius - 80);\n        pie = d3.layout.pie().value(function (d) {\n          return d.value;\n        }).sort(null);\n        path = chart.selectAll('path').data(pie(data)).enter().append('path').style('fill', function (d) {\n          return colors(d.data.colorIndex);\n        }).attr('d', arc).each(function (d) {\n          this._current = d;\n        }); // store the initial angles\n\n        updatePieLabels();\n\n        // Secondary Chart\n        chartSelect = d3.select('svg').append('g').attr('class', 'secondary').attr('transform', transformAttrValue());\n\n        // Tertiary Chart\n        chartSelectTertiary = d3.select('svg').append('g').attr('class', 'tertiary').attr('style', 'display:none').attr('transform', transformAttrValue());\n\n        // Arc Interaction Sizing\n        arcOver = d3.svg.arc().outerRadius(radius * 1.1).innerRadius(radius - 20);\n        path.on('mouseover', function () {\n          //return false;\n          d3.select(this).transition().ease('in').duration(100).attr('d', arcOver);\n        }).on('mouseout', function () {\n          //return false;\n          d3.select(this).transition().ease('bounce').duration(500).attr('d', arc);\n        }).on('click', zoomIn);\n      };\n      return visualization;\n    })(definitionVisualization);\n    definitionVisualization.donut.show();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"graph-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 580,\n    columnNumber: 10\n  }, this);\n};\n_s(DonutChart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = DonutChart;\nexport default DonutChart;\nvar _c;\n$RefreshReg$(_c, \"DonutChart\");","map":{"version":3,"names":["React","useEffect","d3","jsxDEV","_jsxDEV","DonutChart","_s","showDonutChart","console","log","version","definitionVisualization","visualization","donut","topLevelItem","label","subSubData","colorIndex","value","subData","childData","data","dataOriginal","slice","selectedPath","endall","transition","callback","n","each","apply","arguments","margin","top","right","bottom","left","width","height","radius","transformAttrValue","adjustLeft","leftValue","colorRange","colors","scale","ordinal","range","chart","chartLabelsGroup","chartCenterLabelGroup","chartCenterLabel","arc","arcSmall","pie","path","chartSelect","chartSelectTertiary","arcOver","zoomIn","d","sel","select","i","length","push","attr","startAngle","endAngle","arcSelect","svg","s","innerRadius","outerRadius","o","newArc","append","style","on","zoomOut","duration","attrTween","newAngle","Math","PI","interpolate","tick","zoomInSweepEnded","clickedItem","selectedItem","currentItem","getCurrentItemData","pop","zoomZeArc","arcFinal","ease","html","call","counter","updatePieLabels","selectAll","remove","setTimeout","secondaryHtml","reverse","zoomScale","origOuterRadius","origInnerRadius","finalInnerRadius","curInnerRadius","curOuterRadius","arcZoom","iInner","text","getCurrentItem","sliceLabels","currentData","enter","centroid","getCurrentItemAsBreadCrumbs","returnList","startIndex","getRandomNumberInRange","min","max","floor","random","getBreadCrumbs","randomize","currentDataLevel","a","_current","t","show","svgContainer","layout","sort","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/goncaloarieiro/thesis/multimodal-interaction/src/components/charts/PieChart.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport * as d3 from 'd3'\n\nconst DonutChart = () => {\n  useEffect(() => {\n    showDonutChart()\n  }, [])\n  console.log(d3.version) // Verifica se o D3 está acessível\n\n  const showDonutChart = () => {\n    var definitionVisualization = {}\n    ;(function (visualization) {\n      visualization.donut = {}\n\n      var topLevelItem = { label: 'Channel' }\n\n      var subSubData = [\n        { colorIndex: 10, value: 3075, label: 'Label 1' },\n        { colorIndex: 11, value: 6150, label: 'Label 2' },\n        { colorIndex: 12, value: 6832, label: 'Label 3' },\n        { colorIndex: 13, value: 7516, label: 'Label 4' },\n        { colorIndex: 14, value: 6291, label: 'Label 5' },\n      ]\n\n      var subData = [\n        { colorIndex: 5, value: 1000, label: 'Region 1' },\n        { colorIndex: 6, value: 1000, label: 'Region 2' },\n        { colorIndex: 7, value: 1000, label: 'Region 3' },\n        { colorIndex: 8, value: 1000, label: 'Region 4' },\n        {\n          colorIndex: 9,\n          value: 5000,\n          childData: subSubData,\n          label: 'Region 5',\n        },\n      ]\n\n      var data = [\n        { colorIndex: 0, value: 25, childData: subData, label: 'Call Center' },\n        { colorIndex: 1, value: 25, childData: subData, label: 'Third Party' },\n        { colorIndex: 2, value: 16.66667, childData: subData, label: 'Web' },\n        { colorIndex: 3, value: 16.66667, childData: subData, label: 'Mobile' },\n        {\n          colorIndex: 4,\n          value: 16.66667,\n          childData: subData,\n          label: 'In-Store',\n        },\n      ]\n\n      var dataOriginal = data.slice(0) //Keep a record around for book-keeping purposes\n\n      var selectedPath = []\n\n      function endall(transition, callback) {\n        var n = 0\n        transition\n          .each(function () {\n            ++n\n          })\n          .each('end', function () {\n            if (!--n) callback.apply(this, arguments)\n          })\n      }\n\n      // Global Variables\n\n      var margin = { top: 50, right: 0, bottom: 10, left: 127.5 }\n      var width = 555\n      var height = 800\n\n      var radius = 150\n\n      var transformAttrValue = function (adjustLeft) {\n        var leftValue = margin.left + radius\n        if (adjustLeft) {\n          leftValue = leftValue + adjustLeft\n        }\n        return 'translate(' + leftValue + ',' + (margin.top + radius) + ')'\n      }\n      var colorRange = [\n        '#ffb822',\n        '#00bf8c',\n        '#219ddb',\n        '#ad85cc',\n        '#f95275',\n        '#80B647',\n        '#11AEB4',\n        '#6791D4',\n        '#D36CA1',\n        '#FC803B',\n      ]\n\n      var colors = d3.scale.ordinal().range(colorRange)\n\n      var chart,\n        chartLabelsGroup,\n        chartCenterLabelGroup,\n        chartCenterLabel,\n        arc,\n        arcSmall,\n        pie,\n        path,\n        chartSelect,\n        chartSelectTertiary,\n        arcOver\n\n      function zoomIn(d) {\n        if (!d.data.childData) {\n          //At deepest available level\n          return false\n        }\n\n        var sel = d3.select(this)\n\n        //Search the current path to see the counter where it was selected. (Also update selected path)\n\n        for (var i = 0; i < path[0].length; i++) {\n          if (path[0][i] == sel[0][0]) {\n            selectedPath.push(i)\n            break\n          }\n        }\n\n        sel.attr('d', arc)\n\n        var startAngle = d.startAngle\n        var endAngle = d.endAngle\n\n        var arcSelect = d3.svg\n          .arc()\n          .startAngle(function (s) {\n            return startAngle\n          })\n          .endAngle(function (s) {\n            return endAngle\n          })\n          .innerRadius(function (i) {\n            return radius - 20\n          })\n          .outerRadius(function (o) {\n            return radius * 1.1\n          })\n\n        var newArc = chartSelect\n          .append('path')\n          .style('fill', colors(d.data.colorIndex))\n          .attr('d', arcSelect)\n          .on('click', zoomOut(d))\n\n        newArc\n          .transition()\n          .duration(1000)\n          .attrTween('d', function () {\n            var newAngle = d.startAngle + 2 * Math.PI\n            var interpolate = d3.interpolate(d.endAngle, newAngle)\n            return function (tick) {\n              endAngle = interpolate(tick)\n              return arcSelect(d)\n            }\n          })\n          .each('end', zoomInSweepEnded(d.data.childData))\n      }\n\n      function zoomOut(clickedItem, selectedItem) {\n        return function () {\n          //Determine the current parent item while zooming.\n\n          var currentItem = getCurrentItemData(1)\n          selectedPath.pop() //Update the path\n\n          //If we have another parent we need to show the zoom further out arc.\n\n          if (selectedPath.length > 0) {\n            chartSelectTertiary.attr('style', '')\n            chartSelectTertiary.on('click', function () {\n              //TODO: Fix this!!!\n              zoomOut(\n                { startAngle: 0, endAngle: 0 },\n                chartSelectTertiary.select('path')\n              )()\n            })\n          }\n\n          //Proceed with animations\n\n          selectedItem = selectedItem || d3.select(this)\n\n          selectedItem.on('click', null)\n\n          zoomZeArc(selectedItem, true, function () {\n            var startAngle = clickedItem.startAngle\n            var endAngle = clickedItem.startAngle + 2 * Math.PI\n\n            var arcSelect = d3.svg\n              .arc()\n              .startAngle(function (s) {\n                return startAngle\n              })\n              .endAngle(function (s) {\n                return endAngle\n              })\n              .innerRadius(function (i) {\n                return radius - 20\n              })\n              .outerRadius(function (o) {\n                return radius * 1.1\n              })\n\n            var arcFinal = d3.svg\n              .arc()\n              .startAngle(function (s) {\n                return startAngle\n              })\n              .endAngle(function (s) {\n                return endAngle\n              })\n              .outerRadius(radius)\n              .innerRadius(radius - 20)\n\n            selectedItem\n              .transition()\n              .duration(750)\n              .attrTween('d', function () {\n                var newAngle = clickedItem.startAngle + 2 * Math.PI\n                var interpolate = d3.interpolate(newAngle, clickedItem.endAngle)\n                return function (tick) {\n                  endAngle = interpolate(tick)\n                  return arcSelect(clickedItem)\n                }\n              })\n              .each('end', function () {\n                selectedItem\n                  .transition()\n                  .ease('bounce')\n                  .duration(500)\n                  .attr('d', arcFinal)\n                  .each('end', function () {\n                    //Finished animating and bouncing\n                    d3.select('.secondary').html('')\n                  })\n              })\n          })\n\n          path\n            .transition()\n            .ease('back-in-out')\n            .duration(750)\n            .attr('transform', 'scale(.5), rotate(-90)')\n            .style('opacity', 0)\n            .call(endall, function () {\n              path\n                .attr('transform', 'scale(1), rotate(0)')\n                .style('opacity', 1)\n                .data(pie(currentItem))\n                .style('fill', function (d) {\n                  return colors(d.data.colorIndex)\n                })\n                .attr('d', arc)\n                .on('click', zoomIn)\n                .each(function (d, counter) {\n                  //this._current = d;)\n                }) // store the initial angles\n\n              updatePieLabels()\n            })\n        }\n      }\n\n      function zoomInSweepEnded(childData) {\n        return function () {\n          chartSelectTertiary.attr('style', 'display: none')\n\n          var selectedItem = d3.select(this)\n\n          path.attr('transform', 'scale(0.5), rotate(-90)').style('opacity', 0)\n\n          path\n            .data(pie(childData))\n            .style('fill', function (d) {\n              return colors(d.data.colorIndex)\n            })\n            .attr('d', arc)\n\n          updatePieLabels()\n\n          path\n            .transition()\n            .ease('back-in-out')\n            .duration(750)\n            .attr('transform', 'scale(1), rotate(0)')\n            .style('opacity', 1)\n            .call(function () {\n              //Finished scaling\n            })\n          d3.selectAll('.zoom-out')\n            .transition()\n            .ease('back-in-out')\n            .duration(750)\n            .attr('transform', 'scale(1.25)')\n            .style('opacity', 0)\n            .remove()\n            .call(function () {\n              //Finished zooming out\n            })\n\n          setTimeout(function () {\n            var secondaryHtml = d3.select('.secondary').html()\n            d3.select('.tertiary').html(secondaryHtml)\n          }, 850)\n\n          zoomZeArc(selectedItem, false)\n        }\n      }\n\n      function zoomZeArc(selectedItem, reverse, callback) {\n        var zoomScale = 1.25\n\n        var origOuterRadius = radius * 1.1\n        var origInnerRadius = radius - 20\n\n        var finalInnerRadius = radius * zoomScale\n\n        var curInnerRadius = origInnerRadius\n        var curOuterRadius = origOuterRadius\n\n        var arcZoom = d3.svg\n          .arc()\n          .startAngle(0)\n          .endAngle(2 * Math.PI)\n          .outerRadius(function () {\n            return curOuterRadius\n          })\n          .innerRadius(function () {\n            return curInnerRadius\n          })\n\n        if (!reverse) {\n          selectedItem.attr('class', 'zoom-out')\n        }\n\n        selectedItem\n          .transition()\n          .ease('back-in-out')\n          .duration(750)\n          .attrTween('d', function () {\n            var iInner = reverse\n              ? d3.interpolate(finalInnerRadius, origInnerRadius)\n              : d3.interpolate(origInnerRadius, finalInnerRadius)\n            return function (tick) {\n              curInnerRadius = iInner(tick)\n              curOuterRadius =\n                origOuterRadius + (curInnerRadius - origInnerRadius) / 1.75\n              return arcZoom(selectedItem)\n            }\n          })\n          .each('end', function () {\n            if (callback) {\n              callback()\n            }\n          })\n      }\n\n      function updatePieLabels() {\n        chartCenterLabel.text(getCurrentItem().label)\n\n        //Updates pie chart labels. Needs to be after path data gets set!\n\n        chartLabelsGroup.html('')\n\n        var sliceLabels = chartLabelsGroup\n          .selectAll('text')\n          .data(pie(path.data()))\n        var currentData = getCurrentItemData()\n\n        sliceLabels\n          .enter()\n          .append('text')\n          .style('opacity', 0)\n          .transition()\n          .duration(750)\n          .style('opacity', 1)\n          .attr('class', 'outer-label')\n          .attr('transform', function (d) {\n            return 'translate(' + arcSmall.centroid(d) + ')'\n          })\n          .text(function (d, i) {\n            return currentData[i].label\n          })\n      }\n\n      function getCurrentItem() {\n        if (selectedPath.length === 0) {\n          return topLevelItem\n        }\n        var currentItem = data\n        for (var i = 0; i < selectedPath.length; i++) {\n          if (i + 1 < selectedPath.length) {\n            currentItem = currentItem[selectedPath[i]].childData\n          } else {\n            currentItem = currentItem[selectedPath[i]]\n          }\n        }\n        return currentItem\n      }\n\n      function getCurrentItemAsBreadCrumbs() {\n        if (selectedPath.length === 0) {\n          return [topLevelItem.label]\n        }\n        var currentItem = data\n        var returnList = [topLevelItem.label]\n\n        for (var i = 0; i < selectedPath.length; i++) {\n          returnList.push(currentItem[selectedPath[i]].label)\n          if (i + 1 < selectedPath.length) {\n            currentItem = currentItem[selectedPath[i]].childData\n          } else {\n            currentItem = currentItem[selectedPath[i]]\n          }\n        }\n        return returnList\n      }\n\n      function getCurrentItemData(startIndex) {\n        startIndex = startIndex | 0\n        var currentItem = data\n        for (var i = startIndex; i < selectedPath.length; i++) {\n          currentItem = currentItem[selectedPath[i]].childData\n        }\n        return currentItem\n      }\n\n      function getRandomNumberInRange(min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min\n      }\n\n      visualization.donut.getBreadCrumbs = function () {\n        return getCurrentItemAsBreadCrumbs()\n      }\n\n      visualization.donut.randomize = function () {\n        //Set some random dataz and animate it\n\n        var currentDataLevel = getCurrentItemData()\n        for (var i = 0; i < currentDataLevel.length; i++) {\n          currentDataLevel[i].value =\n            (currentDataLevel[i].value * getRandomNumberInRange(75, 125)) /\n            100.0\n        }\n\n        path.data(pie(currentDataLevel))\n\n        path\n          .transition()\n          .duration(750)\n          .attrTween('d', function (a) {\n            var i = d3.interpolate(this._current, a)\n            this._current = i(0)\n            return function (t) {\n              return arc(i(t))\n            }\n          })\n      }\n\n      visualization.donut.show = function () {\n        var svgContainer = d3.select('#graph-container')\n        svgContainer.html('')\n\n        data = dataOriginal.slice(0)\n        selectedPath = []\n\n        // Primary Chart\n        chart = svgContainer\n          .append('svg')\n          .attr('id', 'svg-container')\n          .attr('width', width)\n          .attr('height', height)\n          .append('g')\n          .attr('class', 'primary')\n          .attr('transform', transformAttrValue())\n\n        chartLabelsGroup = d3\n          .select('#svg-container')\n          .append('g')\n          .attr('class', 'labelGroup')\n          .attr('transform', transformAttrValue(-20))\n\n        chartCenterLabelGroup = d3\n          .select('#svg-container')\n          .append('g')\n          .attr('class', 'labelCenterGroup')\n          .attr('transform', transformAttrValue())\n\n        chartCenterLabel = chartCenterLabelGroup\n          .append('text')\n          .attr('dy', '.35em')\n          .attr('class', 'chartLabel center')\n          .attr('text-anchor', 'middle')\n\n        arc = d3.svg\n          .arc()\n          .outerRadius(radius)\n          .innerRadius(radius - 20)\n\n        arcSmall = d3.svg\n          .arc()\n          .outerRadius(radius - 40)\n          .innerRadius(radius - 80)\n\n        pie = d3.layout\n          .pie()\n          .value(function (d) {\n            return d.value\n          })\n          .sort(null)\n\n        path = chart\n          .selectAll('path')\n          .data(pie(data))\n          .enter()\n          .append('path')\n          .style('fill', function (d) {\n            return colors(d.data.colorIndex)\n          })\n          .attr('d', arc)\n          .each(function (d) {\n            this._current = d\n          }) // store the initial angles\n\n        updatePieLabels()\n\n        // Secondary Chart\n        chartSelect = d3\n          .select('svg')\n          .append('g')\n          .attr('class', 'secondary')\n          .attr('transform', transformAttrValue())\n\n        // Tertiary Chart\n        chartSelectTertiary = d3\n          .select('svg')\n          .append('g')\n          .attr('class', 'tertiary')\n          .attr('style', 'display:none')\n          .attr('transform', transformAttrValue())\n\n        // Arc Interaction Sizing\n        arcOver = d3.svg\n          .arc()\n          .outerRadius(radius * 1.1)\n          .innerRadius(radius - 20)\n\n        path\n          .on('mouseover', function () {\n            //return false;\n            d3.select(this)\n              .transition()\n              .ease('in')\n              .duration(100)\n              .attr('d', arcOver)\n          })\n          .on('mouseout', function () {\n            //return false;\n            d3.select(this)\n              .transition()\n              .ease('bounce')\n              .duration(500)\n              .attr('d', arc)\n          })\n          .on('click', zoomIn)\n      }\n\n      return visualization\n    })(definitionVisualization)\n\n    definitionVisualization.donut.show()\n  }\n\n  return <div id=\"graph-container\"></div>\n}\n\nexport default DonutChart\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}